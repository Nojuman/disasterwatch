$("#earthquake-checkbox").change(function(){$("#earthquake-checkbox").parent().toggleClass("green")});$("#fire-checkbox").change(function(){$("#fire-checkbox").parent().toggleClass("green")});function getEarthquake(){var b=document.getElementsByClassName("date-button")[0].textContent,a="https://earthquake.usgs.gov/fdsnws/event/1/query?format=geojson&starttime="+b+"&endtime="+moment(b,"YYYY-MM-DD").add(1,"days").format("YYYY-MM-DD")}function toggleParam(a){switch(a){case"basemaps":$("#settings-panel").removeClass("on");$("#settings-btn").removeClass("on");$("#basemaps-panel").toggleClass("on");$("#basemaps-btn").toggleClass("on");break;case"settings":$("#basemaps-panel").removeClass("on");$("#basemaps-btn").removeClass("on");$("#settings-panel").toggleClass("on");$("#settings-btn").toggleClass("on");break;case"add":$("#settings-panel").removeClass("on");$("#settings-btn").removeClass("on");$("#basemaps-panel").removeClass("on");$("#basemaps-btn").removeClass("on");break;case null:break}}function getStyle(d){var a=document.getElementsByClassName("date-button")[0].textContent;switch(d){case"Mapbox":$(".date-button").attr("disabled","disabled");var b="mapbox://styles/mapbox/satellite-streets-v9";break;default:$(".date-button").attr("disabled",false);var c="https://map1.vis.earthdata.nasa.gov/wmts-webmerc/"+d+"/default/"+a+"/GoogleMapsCompatible_Level9/{z}/{y}/{x}.jpg",b={version:8,sources:{"gibs-tiles":{type:"raster",tiles:[c],attribution:[' <a href="http://openstreetmap.com">&copy; OpenStreetMap</a>  <a href="https://earthdata.nasa.gov/about/science-system-description/eosdis-components/global-imagery-browse-services-gibs" >NASA EOSDIS GIBS</a>'],tileSize:256}},layers:[{id:"gibs-tiles",type:"raster",source:"gibs-tiles",minZoom:1,maxZoom:9}]};b.sources.coast={type:"raster",tiles:["https://map1.vis.earthdata.nasa.gov/wmts-webmerc/Reference_Features/default/0/GoogleMapsCompatible_Level9/{z}/{y}/{x}.png",],tileSize:256};b.sources.places={type:"raster",tiles:["https://map1.vis.earthdata.nasa.gov/wmts-webmerc/Reference_Labels/default/0/GoogleMapsCompatible_Level9/{z}/{y}/{x}.png",],tileSize:256};b.layers.push({id:"coast",type:"raster",source:"coast",minZoom:1,maxZoom:8});b.layers.push({id:"places",type:"raster",source:"places",minZoom:1,maxZoom:8})}return b}function changeOverlay(a){$("#basemaps-panel .side-view-content .side-element .link-on").each(function(){$(this).removeClass("on")});$("#"+a+" .link-on").addClass("on");map.setStyle(getStyle(a))}function update_basemaps(){var a=document.getElementsByClassName("date-button")[0].textContent;map.setStyle(getStyle(a))}$(document).ready(function(){$(".date-button").datepicker({format:"yyyy-mm-dd",autoclose:true,todayHighlight:true,startDate:"2012-05-08",endDate:moment.utc().format("YYYY-MM-DD")}).on("changeDate",function(d){var c=moment(d.date).format("YYYY-MM-DD"),b=document.getElementsByClassName("link-on on")[0].parentElement.getAttribute("id");$(".date-button").text(c);if(moment(c).isBefore("2015-11-24")){var a=b.slice(0,5);if(a=="VIIRS"){changeOverlay("MODIS_Terra_CorrectedReflectance_TrueColor")}}});$(".date-button").datepicker("setDate",moment.utc().subtract(1,"days").format("YYYY-MM-DD"))});